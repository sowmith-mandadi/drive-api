<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.813.782 Safari/537.36" version="26.1.3">
  <diagram name="Unified Architecture" id="unified-arch">
    <mxGraphModel dx="2007" dy="1016" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="root-0" />
        <mxCell id="root-1" parent="root-0" />
        <mxCell id="title" value="Conference CMS - System Architecture &amp; Data Flow" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontFamily=Google Sans;" parent="root-1" vertex="1">
          <mxGeometry x="400" y="20" width="600" height="40" as="geometry" />
        </mxCell>
        <mxCell id="frontend-container" value="&lt;div style=&#39;display:flex;align-items:center&#39;&gt;&lt;img src=&#39;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj48cGF0aCBmaWxsPSIjREQwMDMxIiBkPSJNMTI1IDMwTDMxLjkgNjMuMmwxNC4yIDEyMy4xTDEyNSAyMzBsNzguOS00My43IDE0LjItMTIzLjF6Ii8+PC9zdmc+&#39; height=&#39;24&#39; width=&#39;24&#39;/&gt; Frontend (Angular)&lt;/div&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dd0031;strokeColor=#dd0031;fontColor=white;startSize=40;fontSize=14;shadow=1;" parent="root-1" vertex="1">
          <mxGeometry x="40" y="80" width="1320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="search-ui" value="Search Component&#xa;{query: string}&#xa;[results: Document[]]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dd0031;strokeColor=#ffffff;fontColor=white;align=center;verticalAlign=middle;fontSize=12;" parent="root-1" vertex="1">
          <mxGeometry x="60" y="140" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="upload-ui" value="Upload Component&#xa;{file: File, metadata: JSON}&#xa;[status: UploadStatus]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dd0031;strokeColor=#ffffff;fontColor=white;" parent="root-1" vertex="1">
          <mxGeometry x="240" y="140" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="content-ui" value="Content Detail&#xa;{docId: string}&#xa;[content: Document]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dd0031;strokeColor=#ffffff;fontColor=white;" parent="root-1" vertex="1">
          <mxGeometry x="420" y="140" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="auth-ui" value="Auth Component&lt;br&gt;{credentials: OAuth}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dd0031;strokeColor=#ffffff;fontColor=white;" parent="root-1" vertex="1">
          <mxGeometry x="600" y="140" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="state-mgmt" value="State Management&#xa;NgRx Store&#xa;{User, Documents, UI}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dd0031;strokeColor=#ffffff;fontColor=white;" parent="root-1" vertex="1">
          <mxGeometry x="1160" y="140" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="api-container" value="🔌 API Layer (Flask)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#2c3e50;strokeColor=#2c3e50;fontColor=white;startSize=40;fontSize=14;shadow=1;" parent="root-1" vertex="1">
          <mxGeometry x="40" y="300" width="1320" height="160" as="geometry" />
        </mxCell>
        <mxCell id="search-api" value="🔍 /api/search&#xa;POST {query, filters}&#xa;→ [results]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2c3e50;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="60" y="360" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="upload-api" value="⬆️ /api/upload&#xa;POST {file, metadata}&#xa;→ {docId, status}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2c3e50;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="240" y="360" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="content-api" value="📄 /api/content/:id&#xa;GET {docId}&#xa;→ {document}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2c3e50;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="420" y="360" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="auth-api" value="🔐 /api/auth&#xa;POST {code}&#xa;→ {token, user}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2c3e50;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="600" y="360" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="service-container" value="⚙️ Service Layer" style="swimlane;whiteSpace=wrap;html=1;fillColor=#4285f4;strokeColor=#4285f4;fontColor=white;startSize=40;fontSize=14;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="40" y="480" width="1320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="content-pipeline" value="📄 Content Processing Pipeline" style="swimlane;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#34a853;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="60" y="540" width="640" height="120" as="geometry" />
        </mxCell>
        <mxCell id="extract" value="1️⃣ Extract&#xa;{raw → text}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="80" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="chunk" value="2️⃣ Chunk&#xa;{text → segments}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="200" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="embed" value="3️⃣ Embed&#xa;{segments → vectors}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="320" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="index" value="4️⃣ Index&#xa;{vectors → store}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="440" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="metadata" value="5️⃣ Metadata&#xa;{doc → props}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34a853;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="560" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rag-pipeline" value="🧠 RAG Pipeline" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#ea4335;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="720" y="540" width="620" height="120" as="geometry" />
        </mxCell>
        <mxCell id="query-embed" value="1️⃣ Query&#xa;{q → vector}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="740" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vector-search" value="2️⃣ Search&#xa;{vector → docs}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="860" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rerank" value="3️⃣ Rerank&#xa;{docs → ranked}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="980" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="generate" value="4️⃣ Generate&#xa;{ranked → answer}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="1100" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="format" value="5️⃣ Format&#xa;{answer → UI}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ea4335;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="1220" y="580" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="storage-container" value="☁️ Google Cloud Platform" style="swimlane;whiteSpace=wrap;html=1;fillColor=#4285f4;strokeColor=#4285f4;fontColor=white;startSize=40;fontSize=14;shadow=1;" parent="root-1" vertex="1">
          <mxGeometry x="40" y="700" width="1320" height="180" as="geometry" />
        </mxCell>
        <mxCell id="legend" value="Legend" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontColor=#333333;shadow=1;" parent="storage-container" vertex="1">
          <mxGeometry x="1120" y="50" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="legend-1" value="→ Data Flow&#xa;{} Request Payload&#xa;[] Response Payload&#xa;☁️ Cloud Services&#xa;🔐 Security Controls" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontFamily=Google Sans" parent="legend" vertex="1">
          <mxGeometry y="30" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cloud-storage" value="💾 Cloud Storage&#xa;Raw Files&#xa;{docId: file}" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#4285f4;strokeColor=#ffffff;fontColor=white;shadow=1;" parent="root-1" vertex="1">
          <mxGeometry x="60" y="760" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="firestore" value="🗄️ Firestore&#xa;Metadata&#xa;{docId: metadata}" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#34a853;strokeColor=#ffffff;fontColor=white;shadow=1;" parent="root-1" vertex="1">
          <mxGeometry x="240" y="760" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vector-store" value="🔍 Vector Store&#xa;Embeddings&#xa;{docId: vector[]}" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#ea4335;strokeColor=#ffffff;fontColor=white;shadow=1" parent="root-1" vertex="1">
          <mxGeometry x="420" y="760" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vertex-ai" value="🤖 Vertex AI&#xa;LLM &amp; Embeddings&#xa;API Services" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#4285f4;strokeColor=#ffffff;fontColor=white;shadow=1;" parent="root-1" vertex="1">
          <mxGeometry x="600" y="760" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="conn1" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#4285f4;strokeWidth=2;" parent="root-1" source="search-ui" target="search-api" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn2" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#34a853;strokeWidth=2;" parent="root-1" source="upload-ui" target="upload-api" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a2s-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#666666;" parent="root-1" source="upload-api" target="extract" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-1" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#34a853;strokeWidth=2;" parent="root-1" source="extract" target="chunk" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-2" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#34a853;strokeWidth=2;" parent="root-1" source="chunk" target="embed" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-3" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#34a853;strokeWidth=2;" parent="root-1" source="embed" target="index" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-4" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#34a853;strokeWidth=2;" parent="root-1" source="index" target="metadata" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rag-1" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#ea4335;strokeWidth=2;" parent="root-1" source="query-embed" target="vector-search" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s2v-1" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#4285f4;strokeWidth=2;" parent="root-1" source="extract" target="cloud-storage" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s2v-2" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#34a853;strokeWidth=2;" parent="root-1" source="metadata" target="firestore" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s2v-3" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#ea4335;strokeWidth=2;exitDx=0;exitDy=0;" parent="root-1" source="index" target="vector-store" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s2v-4" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#4285f4;strokeWidth=2;" parent="root-1" source="generate" target="vertex-ai" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn3" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#fbbc04;strokeWidth=2;" parent="root-1" source="content-ui" target="content-api" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn4" value="" style="endArrow=classic;html=1;rounded=1;curved=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#ea4335;strokeWidth=2;" parent="root-1" source="auth-ui" target="auth-api" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
